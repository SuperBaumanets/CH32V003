#  Светофор для CH32V003F4P6

Простой пример прошивки светофора для микроконтроллера CH32V003F4P6.

## Структура

```
├── lib/                    # Файлы линкера и библиотеки
│   └── ch32v003f4p6.ld     # Скрипт линкера для CH32V003F4P6
├── src/                    # Исходный код
│   └── main.S              # Основной файл прошивки
├── build/                  # Сгенерированные файлы (создается автоматически)
├── Makefile                # Файл для сборки
└── README.md
```

## Сборка прошивки
```bash
# Базовая сборка
make all
```

После успешной сборки в папке `build/` будут созданы файлы:
- `firmware.elf` - ELF файл для отладки
- `firmware.bin` - бинарный файл для прошивки

## Загрузка прошивки в микроконтроллер
```bash
# Сборка и загрузка одним командой
make flash
```

После успешной загрузки светодиоды, подключенные к выбранным пинам, должены начать работать по алгоритму светофора.

![Работа прошивки](../misc/img/1.2.blink_traffic_light_c/1.2.blink_traffic_light_work.gif)

## Основные команды Makefile

| Команда | Описание |
|---------|----------|
| `make` или `make all` | Собрать прошивку |
| `make flash`| Собрать и загрузить прошивку |
| `make clean` | Очистить сборочную директорию |

## Схема подключения светодиода

Пин PD4 ---[ резистор 220-470 Ом ]---|>|---[ светодиод ]--- GND  
Пин PD3 ---[ резистор 220-470 Ом ]---|>|---[ светодиод ]--- GND  
Пин PD2 ---[ резистор 220-470 Ом ]---|>|---[ светодиод ]--- GND  

![Схема](../misc/img/1.2.blink_traffic_light_c/1.2.blink_traffic_light_scheme.jpg)